language: node_js
node_js:
- stable
before_install:
- BRANCH_NAME=$(git rev-parse --abbrev-ref HEAD)
install:
- npm install -g khaos
- khaos install localytics/slackbot-scaffold slackbot
- pushd ~/.khaos/slackbot
- git checkout $BRANCH_NAME
- popd
- yes test | khaos create slackbot testbot
- pushd testbot/nodejs
- npm install
- popd
script:
- pushd testbot/nodejs
- npm test
- popd
